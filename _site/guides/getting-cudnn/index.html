<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.3 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Getting CUDA with cuDNN - JIN ZHE’s blog</title>
<meta name="description" content="In this guide I will show you how to install CUDA with cuDNN in your homedirectory without invoking admin privileges. Unless stated otherwise, wewill be using this configuration for all of my guides.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="JIN ZHE's blog">
<meta property="og:title" content="Getting CUDA with cuDNN">
<meta property="og:url" content="http://localhost:4000/guides/getting-cudnn/">


  <meta property="og:description" content="In this guide I will show you how to install CUDA with cuDNN in your homedirectory without invoking admin privileges. Unless stated otherwise, wewill be using this configuration for all of my guides.">







  <meta property="article:published_time" content="2018-02-18T16:10:00+08:00">





  

  


<link rel="canonical" href="http://localhost:4000/guides/getting-cudnn/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "JIN ZHE",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="JIN ZHE's blog Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="shortcut icon" type="image/png" href="/favicon.ico">
<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">JIN ZHE's blog</a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/bio-photo.jpeg" alt="Jin Zhe" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Jin Zhe</h3>
    
    
      <p class="author__bio" itemprop="description">
        PhD candidate in Computer Science at the National University of Singapore
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Singapore</span>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://github.com/https://github.com/jin-zhe" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Getting CUDA with cuDNN">
    <meta itemprop="description" content="In this guide I will show you how to install CUDA with cuDNN in your homedirectory without invoking admin privileges. Unless stated otherwise, wewill be using this configuration for all of my guides.">
    <meta itemprop="datePublished" content="February 18, 2018">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Getting CUDA with cuDNN
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>In this guide I will show you how to install CUDA with cuDNN in your home
directory without invoking admin privileges. Unless stated otherwise, we
will be using this configuration for all of my guides.</p>

<h2 id="assumptions">Assumptions</h2>
<ul>
  <li>Ubuntu OS 16.04</li>
  <li>NVIDIA GPU with driver installed</li>
</ul>

<h2 id="what-is">What is</h2>
<p>From NVIDIA:</p>
<blockquote>
  <p>CUDA® is a parallel computing platform and programming model developed by
  NVIDIA for general computing on graphical processing units (GPUs). With CUDA,
  developers are able to dramatically speed up computing applications by
  harnessing the power of GPUs.</p>
</blockquote>

<blockquote>
  <p>The NVIDIA CUDA® Deep Neural Network library (cuDNN) is a GPU-accelerated
  library of primitives for deep neural networks. cuDNN provides highly tuned
  implementations for standard routines such as forward and backward convolution,
  pooling, normalization, and activation layers.</p>
</blockquote>

<p>In essence, if you are working on deep learning tools and require
GPU-enabled processes, you will need CUDA along with cuDNN.</p>

<h2 id="why">Why</h2>
<p>The reason for a non-standard installation is two-fold:</p>
<ol>
  <li>You may not have admin privileges to install CUDA and cuDNN to system paths
in the conventional manner</li>
  <li>Even if your sysadmin have already installed CUDA or cuDNN on your machine,
it may still be a good idea to install them on your own because repeating
research experiments by others sometimes require specific versions of CUDA and
cuDNN. Non-standard installations can thus grant you the ability to toggle
between various versions under different environments easily using a
virtual environment manager such as <a href="https://docs.conda.io/en/latest/index.html">Conda</a></li>
</ol>

<h2 id="getting-cuda">Getting CUDA</h2>
<p>The standard installation path for cuda is the versioned path
<code class="highlighter-rouge">/usr/local/cuda-x.x</code> where <code class="highlighter-rouge">x.x</code> reflects the version number. The standard
installation will also create a symlink <code class="highlighter-rouge">/usr/local/cuda</code> to that versioned
install path. You may check if a sysadmin had already installed cuda in your
machine via the command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cat</span> /usr/local/cuda/version.txt
<span class="c">#=&gt; CUDA Version 8.0.61</span></code></pre></figure>

<p>Let’s heave over to <a href="https://developer.nvidia.com/cuda-downloads">NVIDIA’s CUDA download page</a>
then select your system configurations and download the <strong>runfile (local)</strong> for
the CUDA version that you want. For this guide, I shall choose version 9.0
as the example.</p>

<p>Let’s make the versioned cuda install directory under <code class="highlighter-rouge">$HOME</code> following
NVIDIA’s convention of displaying the version in the dirname:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> <span class="nv">$HOME</span>
mkdir cuda-9.0</code></pre></figure>

<p>Let’s save this under the <code class="highlighter-rouge">CUDA_HOME</code> environment variable:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">CUDA_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/cuda-9.0</code></pre></figure>

<p>I downloaded the runfile named <code class="highlighter-rouge">cuda_9.0.176_384.81_linux-run</code> into my
<code class="highlighter-rouge">~/Downloads</code> directory. Let’s head over and install CUDA into the
versioned install directory:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ~/Downloads
sh cuda_9.0.176_384.81_linux-run <span class="nt">--silent</span> <span class="nt">--toolkit</span> <span class="nt">--toolkitpath</span><span class="o">=</span><span class="nv">$CUDA_HOME</span></code></pre></figure>

<p>Once the installation is done, we have to ensure the following environment
variables are assigned correctly:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">CUDA_HOME</span><span class="o">=</span><span class="nv">$CUDA_HOME</span> <span class="c"># included for sake of completeness</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$CUDA_HOME</span>/bin<span class="k">${</span><span class="nv">PATH</span>:+:<span class="k">${</span><span class="nv">PATH</span><span class="k">}}</span>
<span class="nb">export </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$CUDA_HOME</span>/lib64<span class="k">${</span><span class="nv">LD_LIBRARY_PATH</span>:+:<span class="k">${</span><span class="nv">LD_LIBRARY_PATH</span><span class="k">}}</span>
<span class="c"># For 32-bit OS: export LD_LIBRARY_PATH=$CUDA_HOME/lib${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}</span></code></pre></figure>

<p>You may append them to <code class="highlighter-rouge">~/.bashrc</code> if you’re running on your local machine,
<code class="highlighter-rouge">~/.bash_profile</code> if you’re accessing a remote machine via ssh, or better
yet <a href="https://conda.io/docs/user-guide/tasks/manage-environments.html#saving-environment-variables">save the environment variables</a> under a Conda environment!</p>

<p>We are done for CUDA!</p>

<h2 id="getting-cudnn">Getting cuDNN</h2>
<p>Installing cuDNN is relatively hassle-free as it’s simply about unpacking
cuDNN files into our <code class="highlighter-rouge">$CUDA_HOME</code> directory.</p>

<p>Download the NVIDIA cuDNN <a href="https://developer.nvidia.com/cudnn">here</a> corresponding to your CUDA
version. You’ll be requried to sign up for a free developer account if you have
not already done so. For this guide I shall choose cuDNN version 7.0.4 as the
example.</p>

<p>On the download page click on the link that reads
“<em>Download cuDNN v7.0.4 (Nov 13, 2017), for CUDA 9.0</em>”. It should activate an
accordion style dropdown displaying a couple of download links. We shall choose
the <strong>Library for Linux</strong> because the other modes of installation requires
admin privileges.</p>

<p>Lets download <code class="highlighter-rouge">cudnn-9.0-linux-x64-v7.tgz</code> into our <code class="highlighter-rouge">~/Downloads</code> directory
by clicking on the download link that reads “cuDNN v7.0.4 Library for Linux”</p>

<p>Once the download is complete, we shall head over to the downloads directory
and simply unpack the cuDNN files into our CUDA directory:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd</span> ~/Downloads
<span class="nb">tar</span> <span class="nt">-zxvf</span> cudnn-9.0-linux-x64-v7.tgz <span class="nt">-C</span> <span class="nv">$CUDA_HOME</span> <span class="nt">--strip-components</span><span class="o">=</span>1</code></pre></figure>

<p>That’s it! We are done!</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#cuda" class="page__taxonomy-item" rel="tag">CUDA</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#cudnn" class="page__taxonomy-item" rel="tag">cuDNN</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#nvidia" class="page__taxonomy-item" rel="tag">NVIDIA</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#guides" class="page__taxonomy-item" rel="tag">Guides</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-02-18T16:10:00+08:00">February 18, 2018</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Getting+CUDA+with+cuDNN%20http%3A%2F%2Flocalhost%3A4000%2Fguides%2Fgetting-cudnn%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fguides%2Fgetting-cudnn%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fguides%2Fgetting-cudnn%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="#" class="pagination--pager disabled">Previous</a>
    
    
      <a href="/guides/getting-up-to-speed-with-conda/" class="pagination--pager" title="Getting up to speed with Conda
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/guides/installing-pytorch-with-cuda-in-conda/" rel="permalink">Installing PyTorch with CUDA in Conda
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/guides/installing-caffe-with-cuda-in-conda/" rel="permalink">Installing Caffe with CUDA in Conda
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/guides/installing-caffe2-with-cuda-in-conda/" rel="permalink">Installing Caffe2 with CUDA in Conda
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/guides/getting-up-to-speed-with-conda/" rel="permalink">Getting up to speed with Conda
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  6 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">
  “Conda is an open source package management system and environment
  management system that runs on Windows, macOS and Linux. Conda quickly
  installs, ru...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 JIN ZHE. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>










  </body>
</html>
